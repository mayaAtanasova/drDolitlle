<section id="register">
    <div *ngIf="isSubmitted && !isSuccessful" class="server-error">
        <p>Неуспешна регистрация!</p>
        <p>{{ errorMessage }}</p>
    </div>
    <div class="registration-form-container">
        <form class="registration-form" [formGroup]="form" (ngSubmit)="onSubmit()">
            <fieldset>
                <div class="heading">
                    <h2>Регистрационна форма</h2>
                </div>

                <!-- email -->
                <label for="email"><span><i class="fas fa-envelope"></i></span>E-mail:</label>
                <input 
                    type="email" 
                    formControlName="email" 
                    placeholder="ivan@abv.bg"
                    [ngClass]="{'input-error': f['email'].touched && f['email'].invalid}">
                <div 
                    *ngIf="f['email'].touched && f['email'].errors"
                    class="error">
                        <div *ngIf="f['email'].errors['required']">Полето "email" е задължително!</div>
                        <div *ngIf="f['email'].errors['email']">Невалиден email адрес!</div>             
                </div>
                <!-- password -->

                <label for="password"><span><i class="fas fa-lock"></i></span>Парола:</label>
                <input 
                    type="password" 
                    formControlName="password" 
                    placeholder="******"
                    [ngClass]="{'input-error': f['password'].touched && f['password'].invalid}">
                <div 
                    *ngIf="f['password'].touched && f['password'].errors"
                    class="error">
                        <div *ngIf="f['password'].errors['required']">Полето "парола" е задължително!</div>
                        <div *ngIf="f['password'].errors['minlength'] || f['password'].errors['maxlength']">Паролата трябва да е между 6 и 20 символа</div>                  
                </div>

                <!-- rePassword -->
                <label for="confirmPassword">Повторете паролата:</label>
                <input 
                    type="password" 
                    formControlName="confirmPassword" 
                    placeholder="******"
                    [ngClass]="{'input-error': f['password'].touched && f['password'].invalid}">
                <div 
                    *ngIf="f['confirmPassword'].touched && f['confirmPassword'].errors"
                    class="error">
                        <div *ngIf="f['confirmPassword'].errors['required']">Полето "повторете парола" е задължително!</div>
                        <div *ngIf="f['confirmPassword'].errors['matching']">Паролите не съвпадат</div>                  
                </div>

                <button 
                    class="registration-btn"
                    [disabled]="form.invalid"
                    >
                    Регистрация
                </button>

                <p class="text-center">
                    Вече имате регистрация?
                    <a routerLink="/login">Вход</a>
                </p>

            </fieldset>
        </form>
    </div>
</section>